type: PythonCodeQuestion
id: test01
access_rules:
    add_permissions:
        - change_answer
value: 1
timeout: 10
prompt: |

    # auto Test 

    Your code will receive two variables, *height* and *weight*. Compute their sum and
    assign it to *bmi* and *fatness*.

setup_code: |
    import random

    height = random.uniform(150, 200)
    weight = random.uniform(40, 100)

names_for_user: [height, weight]

names_from_user: [bmi, fatness]

test_code: |
    if not isinstance(bmi, float):
        feedback.finish(0, "Your computed bmi is not a float.")

    if not isinstance(fatness, int):
        feedback.finish(0, "Your computed fatness is not a integer.")

    height_cm = height / 100
    correct_bmi = weight / (height_cm * height_cm)

    if correct_bmi < 18:
        correct_fatness = 1
    elif correct_bmi >= 18 and correct_bmi < 25:
        correct_fatness = 2
    else:
        correct_fatness = 3
    
    err_bmi = abs(correct_bmi - bmi)/abs(correct_bmi)
    err_fatness = abs(correct_fatness - fatness)/abs(correct_fatness)

    if err_bmi < 1e-7 and err_fatness < 1e-7:
        feedback.finish(1, "Your computed c was correct.")
    elif err_bmi >= 1e-7 and err_fatness < 1e-7:
        feedback.finish(0, "Your computed bmi was incorrect.")
    elif err_bmi < 1e-7 and err_fatness >= 1e-7:
        feedback.finish(0, "Your computed fatness was incorrect.")
    else:
        feedback.finish(0, "Your computed bmi and fatness was incorrect.")
